#!/bin/bash
#
# Make the spinner spin for a given number of seconds
#
COUNTDOWN=$1
SPIN0="0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000"
SPIN1="0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000"
SPIN2="0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000"
SPIN3="0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080"
SPIN4="0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080
0x000000
0x800000
0x008000
0x000080
0x808080"
#
while [ $COUNTDOWN -gt 0 ]
do
	echo "$SPIN0">/run/pipelights.fifo
	sleep .2
	echo "$SPIN1">/run/pipelights.fifo
	sleep .2
	echo "$SPIN2">/run/pipelights.fifo
	sleep .2
	echo "$SPIN3">/run/pipelights.fifo
	sleep .2
	echo "$SPIN4">/run/pipelights.fifo
	sleep .2

	COUNTDOWN=$[COUNTDOWN-1]
	#echo $COUNTDOWN" seconds left"
done
